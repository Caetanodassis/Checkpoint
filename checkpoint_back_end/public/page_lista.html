<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lista - Checkpoint</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <style>
    :root {
      --bg-dark: #0a1a1a;
      --card-bg: rgba(250, 247, 238, 0.05);
      --border: rgba(250, 247, 238, 0.1);
      --gold: #FFD700;
      --text: #FAF7EE;
      --text-muted: rgba(250, 247, 238, 0.6);
    }

    body {
      background: var(--bg-dark);
      color: var(--text);
    }

    .list-header {
      text-align: center;
      padding: 40px 20px 60px;
      background: linear-gradient(to bottom, rgba(10, 26, 26, 0.9), transparent);
      margin-bottom: 40px;
      border-bottom: 1px solid var(--border);
    }

    .list-badge {
      font-family: 'Press Start 2P', cursive;
      font-size: 1.1rem;
      color: var(--gold);
      text-shadow: 0 0 8px rgba(255, 215, 0, 0.4);
      margin-bottom: 8px;
      display: block;
    }

    .list-title {
      font-family: 'Press Start 2P', cursive;
      font-size: 2.2rem;
      color: var(--gold);
      margin: 16px 0;
      line-height: 1.2;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    .list-creator {
      font-family: 'Montserrat', sans-serif;
      font-size: 1.1rem;
      color: rgba(250, 247, 238, 0.8);
      margin: 16px 0;
      font-weight: 500;
    }

    .list-stats {
      display: flex;
      justify-content: center;
      gap: 32px;
      font-family: 'Montserrat', sans-serif;
      font-size: 0.95rem;
      color: var(--text-muted);
      margin: 24px 0;
    }

    .stat-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
    }

    .stat-item::before {
      content: "";
      display: inline-block;
      width: 16px;
      height: 16px;
      background-size: contain;
      background-repeat: no-repeat;
    }

    .stat-item:nth-child(1)::before {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFD700"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
    }

    .stat-item:nth-child(2)::before {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFD700"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>');
    }

    .games-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
      gap: 28px;
      padding: 20px;
      max-width: 1400px;
      margin: 0 auto;
    }

    .game-card {
      background: var(--card-bg);
      border: 1px solid var(--border);
      border-radius: 16px;
      overflow: hidden;
      transition: all 0.4s cubic-bezier(0.25, 0.8, 0.25, 1);
      cursor: pointer;
      position: relative;
    }

    .game-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0; right: 0; bottom: 0;
      background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      border-radius: 16px;
    }

    .game-card:hover::before {
      opacity: 1;
    }

    .game yhteisty:hover {
      transform: translateY(-8px) scale(1.02);
      border-color: rgba(255, 215, 0, 0.4);
      box-shadow: 0 16px 32px rgba(0, 0, 0, 0.4);
      z-index: 10;
    }

    .game-poster {
      width: 100%;
      height: 280px;
      object-fit: cover;
      transition: transform 0.4s ease;
    }

    .game-card:hover .game-poster {
      transform: scale(1.05);
    }

    .game-info {
      padding: 16px;
      background: rgba(10, 26, 26, 0.8);
      backdrop-filter: blur(4px);
    }

    .game-title {
      font-weight: 600;
      font-size: 1rem;
      color: var(--text);
      margin-bottom: 6px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .game-year {
      font-size: 0.8rem;
      color: var(--text-muted);
      font-weight: 500;
    }

    .back-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      background: rgba(255, 215, 0, 0.15);
      color: var(--gold);
      border: 1px solid rgba(255, 215, 0, 0.3);
      padding: 12px 20px;
      border-radius: 12px;
      font-family: 'Montserrat', sans-serif;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 20px;
      backdrop-filter: blur(4px);
    }

    .back-btn::before {
      content: "";
      width: 16px;
      height: 16px;
      background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23FFD700"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>') no-repeat center;
      background-size: contain;
    }

    .back-btn:hover {
      background: rgba(255, 215, 0, 0.25);
      transform: translateX(-4px);
      box-shadow: 0 4px 12px rgba(255, 215, 0, 0.2);
    }

    .no-games, .loading {
      text-align: center;
      padding: 80px 20px;
      color: var(--text-muted);
      font-family: 'Montserrat', sans-serif;
      font-size: 1.1rem;
    }
  </style>
</head>
<body>
  <header class="topbar">
    <div class="logo-container">
      <img src="logo_checkpoint.png" alt="Checkpoint Logo" class="logo-img">
      <span class="site-name">CHECKPOINT</span>
    </div>
    <nav class="nav-container">
      <a href="inicio.html" class="nav-btn">Início</a>
      <a href="index.html" class="nav-btn">Jogos</a>
      <a href="listas.html" class="nav-btn">Listas</a>
      <a href="perfil.html" class="nav-btn">Perfil</a>
    </nav>
  </header>

  <main class="content">
    <button class="back-btn" onclick="window.history.back()">
      Voltar
    </button>

    <div class="list-header" id="listHeader">
      <!-- Preenchido via JS -->
    </div>

    <section class="games-section">
      <div class="games-grid" id="gamesGrid">
        <!-- Jogos carregados aqui -->
      </div>
    </section>
  </main>

  <script>
    // === JOGOS REAIS (sem poster) ===
    const allGames = [
      { id: 1, title: "The Legend of Zelda: Breath of the Wild", year: 2017 },
      { id: 2, title: "The Witcher 3: Wild Hunt", year: 2015 },
      { id: 3, title: "Red Dead Redemption 2", year: 2018 },
      { id: 4, title: "The Last of Us Part I", year: 2013 },
      { id: 5, title: "Grand Theft Auto V", year: 2013 },
      { id: 6, title: "Minecraft", year: 2011 },
      { id: 7, title: "Dark Souls", year: 2011 },
      { id: 8, title: "Elden Ring", year: 2022 },
      { id: 9, title: "Super Mario Odyssey", year: 2017 },
      { id: 10, title: "God of War", year: 2018 },
      { id: 11, title: "Half-Life 2", year: 2004 },
      { id: 12, title: "Fortnite", year: 2017 },
      { id: 13, title: "Super Mario 64", year: 1996 },
      { id: 14, title: "The Legend of Zelda: Ocarina of Time", year: 1998 },
      { id: 15, title: "Metal Gear Solid 3: Snake Eater", year: 2004 },
      { id: 16, title: "Persona 5 Royal", year: 2019 },
      { id: 17, title: "Bloodborne", year: 2015 },
      { id: 18, title: "The Elder Scrolls V: Skyrim", year: 2011 },
      { id: 19, title: "Overwatch", year: 2016 },
      { id: 20, title: "Counter-Strike: Global Offensive", year: 2012 },
      { id: 21, title: "League of Legends", year: 2009 },
      { id: 22, title: "Super Smash Bros. Ultimate", year: 2018 },
      { id: 23, title: "Resident Evil 4", year: 2005 },
      { id: 24, title: "Pokémon Red / Blue", year: 1996 },
      { id: 25, title: "Tetris", year: 1984 },
      { id: 26, title: "Super Mario Bros.", year: 1985 },
      { id: 27, title: "DOOM", year: 1993 },
      { id: 28, title: "Chrono Trigger", year: 1995 },
      { id: 29, title: "Bioshock", year: 2007 },
      { id: 30, title: "Genshin Impact", year: 2020 }
    ];

    // === LISTAS DE EXEMPLO (usando apenas os jogos acima) ===
    const mockFullLists = [
      {
        id: 1,
        title: "Melhores RPGs de Todos os Tempos",
        creator: "RPGMaster",
        likes: 892,
        gameCount: 10,
        badge: "RPG",
        games: allGames.filter(g => [2,7,8,16,18,28,30,1,4,10].includes(g.id))
      },
      {
        id: 2,
        title: "Clássicos do Nintendo 64",
        creator: "RetroN64",
        likes: 645,
        gameCount: 3,
        badge: "Clássico",
        games: allGames.filter(g => [13,14,9].includes(g.id))
      },
      {
        id: 3,
        title: "Melhores FPS da História",
        creator: "ShooterPro",
        likes: 721,
        gameCount: 8,
        badge: "FPS",
        games: allGames.filter(g => [11,20,27,29,19,12,3,5].includes(g.id))
      },
      {
        id: 4,
        title: "Jogos Indie e Criativos",
        creator: "IndieFan",
        likes: 512,
        gameCount: 5,
        badge: "Indie",
        games: allGames.filter(g => [6,25,30,12,22].includes(g.id))
      },
      {
        id: 5,
        title: "Aventura Épica em Mundo Aberto",
        creator: "Explorer",
        likes: 934,
        gameCount: 7,
        badge: "Mundo Aberto",
        games: allGames.filter(g => [1,3,18,8,2,5,30].includes(g.id))
      }
    ];

    // === CARREGAMENTO DA LISTA ===
    async function loadList() {
      const urlParams = new URLSearchParams(window.location.search);
      const listId = parseInt(urlParams.get('id'));
      if (!listId) {
        showError("ID da lista não fornecido.");
        return;
      }

      document.getElementById("gamesGrid").innerHTML = '<div class="loading">Carregando lista...</div>';

      // Futuro: let list = await fetchListFromAPI(listId);
      let list = mockFullLists.find(l => l.id === listId);

      if (!list) {
        showError("Lista não encontrada.");
        return;
      }

      document.getElementById("listHeader").innerHTML = `
        ${list.badge ? `<span class="list-badge">${list.badge}</span>` : ''}
        <h1 class="list-title">${list.title}</h1>
        <p class="list-creator">por ${list.creator}</p>
        <div class="list-stats">
          <span class="stat-item">${list.likes}</span>
          <span class="stat-item">${list.gameCount} jogos</span>
        </div>
      `;

      const grid = document.getElementById("gamesGrid");
      grid.innerHTML = '';

      if (!list.games || list.games.length === 0) {
        grid.innerHTML = '<div class="no-games">Nenhum jogo na lista.</div>';
        return;
      }

      list.games.forEach(game => {
        const card = document.createElement("div");
        card.className = "game-card";
        card.dataset.gameId = game.id;

        card.innerHTML = `
          <div class="game-poster" style="background:#111; display:flex; align-items:center; justify-content:center; color:#666; font-size:0.9rem;">
            Sem poster
          </div>
          <div class="game-info">
            <div class="game-title">${game.title}</div>
            <div class="game-year">${game.year}</div>
          </div>
        `;

        card.addEventListener('click', () => {
          window.location.href = `game.html?id=${game.id}`;
        });

        grid.appendChild(card);
      });
    }

    function showError(message) {
      document.getElementById("gamesGrid").innerHTML = `<div class="no-games">${message}</div>`;
    }

    document.addEventListener("DOMContentLoaded", loadList);
  </script>
</body>
</html>